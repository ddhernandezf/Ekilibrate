@using Kendo.Mvc.UI
@using System.Web.Mvc
@model Ekilibrate.Model.Entity.Participante.clsComunicacionBase

@{
    ViewBag.Title = "Comunicacion";
    ViewBag.Description = "Comunicacion";
    Layout = "~/Views/Shared/_Default.cshtml";
}

@using (Html.BeginForm("Index", "Comunicacion", FormMethod.Post, new { id = "myform" }))
{
    <h2><img src="../assets/img/icons/Heart Monitor-32.png" />Evaluación del Estilo de Vida</h2>
    <div class="col-xs-12 col-md-12">
        <div class="widget">
            <div id="simplewizardinwidget" class="wizard" data-target="#simplewizardinwidget-steps">
                <ul>
                    <li data-target="#simplewizardinwidgetstep1" class="complete"><a href='../Participante/Diagnostico'><span class="step">1</span></a>1<span class="chevron"></span></li>
                    <li data-target="#simplewizardinwidgetstep1" class="complete"><a href='../Participante/Alimentacion'><span class="step">2</span></a>2<span class="chevron"></span></li>
                    <li data-target="#simplewizardinwidgetstep1" class="complete"><a href='../Participante/Riesgo'><span class="step">3</span></a>3<span class="chevron"></span></li>
                    <li data-target="#simplewizardinwidgetstep1" class="complete"><a href='../Participante/Cuidado'><span class="step">4</span></a>4<span class="chevron"></span></li>
                    <li data-target="#simplewizardinwidgetstep1" class="complete"><a href='../Participante/Emocion'><span class="step">5</span></a>5<span class="chevron"></span></li>
                    <li data-target="#simplewizardinwidgetstep1" class="complete"><a href='../Participante/Tiempo'><span class="step">6</span></a>6<span class="chevron"></span></li>
                    <li data-target="#simplewizardinwidgetstep1" class="active"><span class="step">7</span><span class="chevron"></span></li>
                    <li data-target="#simplewizardinwidgetstep1"><a href='../Participante/ComunicacionDos'><span class="step">8</span><span class="chevron"></span></a></li>
                    <li data-target="#simplewizardinwidgetstep1"><a href='../Participante/TestFinanzas'><span class="step">9</span><span class="chevron"></span></a></li>
                    <li data-target="#simplewizardinwidgetstep1"><a href='../Participante/Liderazgo'><span class="step">10</span><span class="chevron"></span></a></li>
                </ul>
            </div>
            <div class="widget-header bg-green">
                <span class="widget-caption" style="font-size:28px"><img src="../assets/img/icons/Talk-32.png" /> Área de relaciones interpersonales</span>
                <div class="widget-buttons">
                    <a href="#" data-toggle="maximize">
                        <i class="fa fa-expand"></i>
                    </a>
                    <a href="#" data-toggle="collapse">
                        <i class="fa fa-minus"></i>
                    </a>
                </div>
            </div>
            <div class="row">
            </div>
            <div class="widget-header bordered-bottom bordered-green">
                <span class="widget-caption green">Test de comunicación asertiva Parte 1</span>
                <div class="widget-buttons">
                </div>
            </div>
            <div class="widget-body">
                @*<h2>Parte 1: Test de Gambrill y Richey</h2>*@
                <div id="Horizontal-form">
                    <div class="row">
                        <div class="form-group">
                            <label class="col-lg-12 control-label h3">Instrucciones</label>
                            <label class="col-lg-12 control-label h4">
                                Este test se divide en dos partes muy parecidas, pero con diferente escala de valoración. Si no se ha encontrado nunca en las situaciones que le propone un ítem, imagínese cómo se sentiría y cómo actuaría si se produjera esa situación. Por favor conteste estas preguntas de acuerdo a la siguiente escala:
                            </label>
                            <br />
                            <label class="col-lg-12 control-label h4">
                                1 = En Absoluto&nbsp;&nbsp;&nbsp;&nbsp;
                                2 = Un Poco&nbsp;&nbsp;&nbsp;&nbsp;
                                3 = Bastante&nbsp;&nbsp;&nbsp;&nbsp;
                                4 = Mucho&nbsp;&nbsp;&nbsp;&nbsp;
                                5 = Muchísimo
                            </label>
                        </div>
                    </div>
                    <br />                    
                    <div class="row">
                        <div class="col-lg-12">
                            @if (ViewBag != null && ViewBag.Comunicacion != null)
                            {
                                <table style="width:80%">
                                    <colgroup>
                                        <col style="width:60%" />
                                        <col style="width:8%" />
                                        <col style="width:8%" />
                                        <col style="width:8%" />
                                        <col style="width:8%" />
                                        <col style="width:8%" />
                                    </colgroup>
                                    <tr>
                                        <th>
                                            <h3>¿Qué grado de ansiedad te provoca Cuando...? </h3>
                                        </th>
                                        <th>
                                            <h3>1</h3>
                                        </th>
                                        <th>
                                            <h3>2</h3>
                                        </th>
                                        <th>
                                            <h3>3</h3>
                                        </th>
                                        <th>
                                            <h3>4</h3>
                                        </th>
                                        <th>
                                            <h3>5</h3>
                                        </th>
                                    </tr>
                                    @{ int i = 0; }
                                    @foreach (Ekilibrate.Model.Entity.Participante.clsAsertiva item in ViewBag.Comunicacion)
                                    {
                                        if (i > 0 && i % 15 == 0)
                                        {
                                            <tr>
                                                <td style="height:30px;">
                                                </td>                                                
                                            </tr>
                                        }
                                        i++;
                                        <tr>
                                            <td>
                                                <label>@item.PREGUNTA</label>
                                            </td>

                                            <td>
                                                @Html.RadioButton("1" + item.ID_PREGUNTA, item.EN_ABSOLUTO, item.EN_ABSOLUTO, new { Name = item.ID_PREGUNTA, onclick = "OnCheckedAsertiva(" + item.ID_PREGUNTA + ", '1', this);" })
                                            </td>
                                            <td>
                                                @Html.RadioButton("2" + item.ID_PREGUNTA, item.UN_POCO, item.UN_POCO, new { Name = item.ID_PREGUNTA, onclick = "OnCheckedAsertiva(" + item.ID_PREGUNTA + ", '2', this);" })
                                            </td>
                                            <td>
                                                @Html.RadioButton("3" + item.ID_PREGUNTA, item.BASTANTE, item.BASTANTE, new { Name = item.ID_PREGUNTA, onclick = "OnCheckedAsertiva(" + item.ID_PREGUNTA + ", '3', this);" })
                                            </td>
                                            <td>
                                                @Html.RadioButton("4" + item.ID_PREGUNTA, item.MUCHO, item.MUCHO, new { Name = item.ID_PREGUNTA, onclick = "OnCheckedAsertiva(" + item.ID_PREGUNTA + ", '4', this);" })
                                            </td>
                                            <td>
                                                @Html.RadioButton("5" + item.ID_PREGUNTA, item.MUCHISIMO, item.MUCHISIMO, new { Name = item.ID_PREGUNTA, onclick = "OnCheckedAsertiva(" + item.ID_PREGUNTA + ", '5', this);" })
                                            </td>
                                        </tr>
                                    }

                                    </table>
                                    <br />
                                    <br />

                            }
                        </div>
                    </div>
                    <br />
                    <div class="row">
                        <div class="pull-right" style="display: inline-flex; padding-right: 1em;">
                            <div class="btn-group">
                                <button type="submit" class="btn btn-blue"><i class="fa fa-check"></i>Guardar</button>
                                <button type="button" class="btn btn-warning" onclick="location.href = '../Participante/Tiempo';"><i class="fa fa-angle-left"></i> Atrás</button>
                                <button type="button" class="btn btn-success btn-next" data-last="Finish" onclick="location.href = '../Participante/ComunicacionDos';">Siguiente <i class="fa fa-angle-right"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <script type="text/javascript">
        function OnCheckedAsertiva(pID_PREGUNTA, pAsertiva,e)
        {
            if (e.checked) {


                $.ajax({
                    url: 'Comunicacion/AddAsertiva?pID_PREGUNTA=' + pID_PREGUNTA + '&pAsertiva='+pAsertiva,
                    type: 'POST',
                    data: {

                    },
                    contentType: 'application/json; charset=utf-8',
                    success: function (data) {

                        if (data.success) {

                        }
                        else {
                            alert(data.error);
                        }
                    },
                    error: function () {
                        alert("error");
                    }
                });

            }
        }

    </script>
}

